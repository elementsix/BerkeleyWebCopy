<!DOCTYPE html>
<!--==============================================================================
	           "GitHub HTML5 Pandoc Template" v1.2 — by Tristano Ajmone           
	==============================================================================
	(c) Tristano Ajmone, 2017, MIT License (MIT). Project's home repository:

	- https://github.com/tajmone/pandoc-goodies

	This template reuses source code taken from the following projects:

	- GitHub Markdown CSS: © Sindre Sorhus, MIT License (MIT):
	  https://github.com/sindresorhus/github-markdown-css

	- Primer CSS: © 2016 GitHub Inc., MIT License (MIT):
	  http://primercss.io/
	==============================================================================-->
<html>

<!-- Mirrored from www.eecs70.org/static/notes/n12.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 17 May 2018 00:39:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Counting</title>
<style type="text/css">@font-face{font-family:octicons-link;src:url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format('woff')}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:16px;line-height:1.5;word-wrap:break-word;box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto;padding:45px}.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body a{background-color:transparent;-webkit-text-decoration-skip:objects;color:#0366d6;text-decoration:none}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body svg:not(:root){overflow:hidden}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace}.markdown-body input{font:inherit;margin:0;overflow:visible;font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{box-sizing:content-box;overflow:hidden;background:0 0;border-bottom:1px solid #dfe2e5}.markdown-body hr::before{display:table;content:""}.markdown-body hr::after{display:table;clear:both;content:""}.markdown-body table{border-spacing:0;border-collapse:collapse;display:block;width:100%;overflow:auto}.markdown-body td,.markdown-body th{padding:0}.markdown-body blockquote{margin:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code{font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace}.markdown-body pre{font:12px SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;word-wrap:normal}.markdown-body .pl-0{padding-left:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body::before{display:table;content:""}.markdown-body::after{display:table;clear:both;content:""}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:0}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd{font-size:11px;box-shadow:inset 0 -1px 0 #959da5}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1{padding-bottom:.3em;font-size:2em;border-bottom:1px solid #eaecef}.markdown-body h2{padding-bottom:.3em;font-size:1.5em;border-bottom:1px solid #eaecef}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body code{padding:.2em 0;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code::after,.markdown-body code::before{letter-spacing:-.2em;content:"\00a0"}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:0 0;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code::after,.markdown-body pre code::before{content:normal}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fcfcfc;border:1px solid #c6cbd1;border-bottom-color:#959da5;border-radius:3px;box-shadow:inset 0 -1px 0 #959da5}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown-body hr{border-bottom-color:#eee}.flash{position:relative;padding:16px;color:#246;background-color:#e2eef9;border:1px solid #bac6d3;border-radius:3px}.flash p:last-child{margin-bottom:0}.flash-messages{margin-bottom:24px}.flash-warn{color:#4c4a42;background-color:#fff9ea;border-color:#dfd8c2}.flash-error{color:#911;background-color:#fcdede;border-color:#d2b2b2}.flash-success{color:#22662c;background-color:#e2f9e5;border-color:#bad3be}.flash-plain{color:#4c4a42;background-color:#f5f5f5;border-color:#c1c1c1}.figure{text-align:center;}</style>
  <style type="text/css">code{white-space: pre;}</style>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      TeX: {equationNumbers: {autoNumber: "AMS"}}
    });
  </script>
  <script src="../../../cdn.mathjax.org/mathjax/latest/MathJax2ba6.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  
</head>
<body>
<article class="markdown-body">
<header>
<h1 class="title">Counting</h1>
</header>
<nav id="TOC">
<ul>
<li><a href="#counting">Counting</a></li>
<li><a href="#counting-sets">Counting Sets</a></li>
<li><a href="#sampling-with-replacement">Sampling with Replacement</a><ul>
<li><a href="#coin-flipping">Coin Flipping</a></li>
<li><a href="#rolling-dice">Rolling Dice</a></li>
<li><a href="#sampling-with-replacement-but-where-order-does-not-matter">Sampling with Replacement, but where Order Does Not Matter</a></li>
</ul></li>
<li><a href="#combinatorial-proofs">Combinatorial Proofs</a></li>
</ul>
</nav>
<h1 id="counting" class="unnumbered">Counting</h1>
<p>The next major topic of the course is probability theory. Suppose you toss a fair coin a thousand times. How likely is it that you get exactly <span class="math inline">\(500\)</span> heads? And what about <span class="math inline">\(1000\)</span> heads? It turns out that the chances of <span class="math inline">\(500\)</span> heads are roughly <span class="math inline">\(2.5\%\)</span>, whereas the chances of <span class="math inline">\(1000\)</span> heads are so infinitesimally small that we may as well say that it is impossible. But before you can learn to compute or estimate odds or probabilities you must learn to count! That is the subject of this note.</p>
<p>We start by considering a simple scenario. We pick <span class="math inline">\(k\)</span> elements out of an <span class="math inline">\(n\)</span> element set <span class="math inline">\(S = \{1,2,\dotsc,n\}\)</span> one at a time. We wish to count the number of different ways to do this, taking into account the order in which the elements are picked. For example, when <span class="math inline">\(k = 2\)</span>, picking <span class="math inline">\(1\)</span> and then <span class="math inline">\(2\)</span> is considered a different outcome from picking <span class="math inline">\(2\)</span> followed by <span class="math inline">\(1\)</span>. Another way to ask the question is this: we wish to form an ordered sequence of <span class="math inline">\(k\)</span> distinct elements, where each element is picked from the set <span class="math inline">\(S\)</span>. How many different such ordered sequences are there?</p>
<p>If we were dealing cards, the set would be <span class="math inline">\(S = \{1,\dotsc,52\}\)</span>, where each number represents a card in a deck of <span class="math inline">\(52\)</span> cards. Picking an element of <span class="math inline">\(S\)</span> in this case refers to dealing one card. Note that once a card is dealt, it is no longer in the deck and so it cannot be dealt again. So the hand of <span class="math inline">\(k\)</span> cards that are dealt consists of <span class="math inline">\(k\)</span> distinct elements from the set <span class="math inline">\(S\)</span>.</p>
<p>For the first card, it is easy to see that we have <span class="math inline">\(52\)</span> distinct choices. But now the available choices for the second card depend upon what card we picked first. The crucial observation is that regardless of which card we picked first, there are exactly <span class="math inline">\(51\)</span> choices for the second card. So the total number of ways of choosing the first two cards is <span class="math inline">\(52 \times 51\)</span>. Reasoning in the same way, there are exactly <span class="math inline">\(50\)</span> choices for the third card, no matter what our choices for the first two cards. It follows that there are exactly <span class="math inline">\(52 \times 51 \times 50\)</span> sequences of three cards. In general, the number of sequences of <span class="math inline">\(k\)</span> cards is <span class="math inline">\(52\cdot 51\cdots (52 - (k - 1))\)</span>.</p>
<p>This is an example of the first rule of counting:</p>
<p><span><strong>First Rule of Counting:</strong></span> If an object can be made by a succession of <span class="math inline">\(k\)</span> choices, where there are <span class="math inline">\(n_1\)</span> ways of making the first choice, and <span><em>for every</em></span> way of making the first choice there are <span class="math inline">\(n_2\)</span> ways of making the second choice, and <span><em>for every</em></span> way of making the first and second choice there are <span class="math inline">\(n_3\)</span> ways of making the third choice, and so on up to the <span class="math inline">\(n_k\)</span>-th choice, then the total number of distinct objects that can be made in this way is the product <span class="math inline">\(n_1 \cdot n_2 \cdot n_3 \cdots n_k\)</span>.</p>
<p>Here is another way of picturing the first rule of counting. Consider the following tree:</p>
<div class="figure">
<img src="n12-counting.png" style="width:30.0%" />

</div>
<p>It has branching factor <span class="math inline">\(n_1\)</span> at the root, <span class="math inline">\(n_2\)</span> at every node at the second level, ..., <span class="math inline">\(n_k\)</span> at every node at the <span class="math inline">\(k\)</span>-th level. Each node at level <span class="math inline">\(k+1\)</span> (a leaf node) represents one possible way of making the object by making a succession of <span class="math inline">\(k\)</span> choices. So the number of distinct objects that can be made is equal to the number of leaves in the tree. Moreover, the number of leaves in the tree is the product <span class="math inline">\(n_1 \cdot n_2 \cdot n_3 \cdots n_k\)</span>. For example, if <span class="math inline">\(n_1 = 2\)</span>, <span class="math inline">\(n_2 = 2\)</span>, and <span class="math inline">\(n_3 = 3\)</span>, then there are <span class="math inline">\(12\)</span> leaves (i.e., outcomes).</p>
<h1 id="counting-sets" class="unnumbered">Counting Sets</h1>
<p>Consider a slightly different question. We would like to pick <span class="math inline">\(k\)</span> distinct elements of <span class="math inline">\(S = \{1,2,\dotsc,n\}\)</span> (i.e. without repetition), but we do not care about the order in which we picked the <span class="math inline">\(k\)</span> elements. For example, picking elements <span class="math inline">\(1,\dots,k\)</span> is considered the same outcome as picking elements <span class="math inline">\(2,\dots,k\)</span> and picking <span class="math inline">\(1\)</span> as the last (<span class="math inline">\(k^{\text{th}}\)</span> element). Now how many ways are there to choose these elements?</p>
<p>When dealing a hand of cards, say a poker hand, it is often more natural to count the number of distinct hands (i.e., the set of <span class="math inline">\(5\)</span> cards dealt in the hand), rather than the order in which they were dealt. As we’ve seen in the section above, if we are considering order, there are <span class="math inline">\(52\cdot 51\cdot 50\cdot 49 \cdot 48 = 52{!}/47{!}\)</span> outcomes. But how many distinct hands of <span class="math inline">\(5\)</span> cards are there? Here is another way of asking the question: each such <span class="math inline">\(5\)</span> card hand is just a subset of <span class="math inline">\(S\)</span> of cardinality <span class="math inline">\(5\)</span>. So we are asking how many <span class="math inline">\(5\)</span> element subsets of <span class="math inline">\(S\)</span> are there?</p>
<p>Here is a clever trick for counting the number of distinct subsets of <span class="math inline">\(S\)</span> with exactly <span class="math inline">\(5\)</span> elements. Create a bin corresponding to each such <span class="math inline">\(5\)</span> element subset. Now take all the sequences of <span class="math inline">\(5\)</span> cards and distribute them into these bins in the natural way. Each sequence gets placed in the bin corresponding to the set of <span class="math inline">\(5\)</span> elements in the sequence. Thus if the sequence is <span class="math inline">\((2,1, 3, 5, 4)\)</span>, then it is placed in the bin labeled <span class="math inline">\(\{1, 2, 3, 4, 5\}\)</span>. How many sequences are placed in each bin? The answer is exactly <span class="math inline">\(5!\)</span>, since there are exactly <span class="math inline">\(5!\)</span> different ways to order <span class="math inline">\(5\)</span> cards.</p>
<p>Recall that our goal was to compute the number of <span class="math inline">\(5\)</span> element subsets, which now corresponds to the number of bins. We know that there are <span class="math inline">\(52{!}/47{!}\)</span> 5-card sequences, and there are <span class="math inline">\(5!\)</span> sequences placed in each bin. The total number of bins is therefore <span class="math inline">\(52{!}/(47{!}\cdot 5{!})\)</span>.</p>
<p>This quantity <span class="math inline">\(n{!}/((n-k){!} \cdot k{!})\)</span> is used so often that there is special notation for it: <span class="math inline">\(n \choose k\)</span>, pronounced <span><em>n choose k</em></span>. This is the number of ways of picking <span class="math inline">\(k\)</span> distinct elements from <span class="math inline">\(S\)</span>, where the order of placement does not matter. Equivalently, it’s the number of ways of choosing <span class="math inline">\(k\)</span> objects out of a total of <span class="math inline">\(n\)</span> objects, where the order of the choices does not matter.</p>
<p>The trick we used above is actually our second rule of counting:</p>
<p><span><strong>Second Rule of Counting:</strong></span> Assume an object is made by a succession of choices, and the order in which the choices is made does not matter. Let <span class="math inline">\(A\)</span> be the set of ordered objects and let <span class="math inline">\(B\)</span> be the set of unordered objects. If there exists a <span class="math inline">\(k\)</span> to <span class="math inline">\(1\)</span> function <span class="math inline">\(f\)</span> from <span class="math inline">\(A\)</span> to <span class="math inline">\(B\)</span>, we can count the number of ordered objects (pretending that the order matters) and divide by <span class="math inline">\(k\)</span> (the number of ordered objects per unordered objects) to obtain <span class="math inline">\(|B|\)</span>, the number of unordered objects.</p>
<p>Note that we are assuming the number of ordered objects is the same for every unordered object; the rule cannot be applied otherwise. Here is another way of picturing the second rule of counting:</p>
<div class="figure">
<img src="n12-counting-2.png" style="width:30.0%" />

</div>
<p>The function <span class="math inline">\(f\)</span> simply places the ordered outcomes into bins corresponding to the unordered outcomes. In our poker hand example, <span class="math inline">\(f\)</span> will map <span class="math inline">\(5!\)</span> elements in the domain of the function (the set of ordered <span class="math inline">\(5\)</span> card outcomes) to one element in the range (the set of <span class="math inline">\(5\)</span> element subsets of <span class="math inline">\(S\)</span>). The number of elements in the range of the function is therefore <span class="math inline">\(52 \choose 5\)</span>.</p>
<h1 id="sampling-with-replacement" class="unnumbered">Sampling with Replacement</h1>
<p>Sometimes we wish to consider a different scenario where we are still picking <span class="math inline">\(k\)</span> elements out of an <span class="math inline">\(n\)</span> element set <span class="math inline">\(S = \{1,2,\dotsc,n\}\)</span> one at a time (order matters). The difference is that after we pick an element for our sequence, we throw it back into <span class="math inline">\(S\)</span> so we can pick it again. How many such sequences of <span class="math inline">\(k\)</span> elements can we obtain? We can use the first rule of counting. Since we have <span class="math inline">\(n\)</span> choices in each trial, <span class="math inline">\(n_1 = n_2 = \cdots = n _k = n\)</span>. Then we have a grand total of <span class="math inline">\(n^k\)</span> sequences.</p>
<p>This type of sampling is called <span><em>sampling with replacement</em></span>; multiple trials can have the same outcome. Card dealing is a type of <span><em>sampling without replacement</em></span>, since two trials cannot both have the same outcome (one card cannot be dealt twice).</p>
<h2 id="coin-flipping" class="unnumbered">Coin Flipping</h2>
<p>Let us return to coin flipping. How many different outcomes are there if we flip a coin <span class="math inline">\(k\)</span> times? By outcome, we mean the string of results: i.e. <span class="math inline">\(001\)</span> would represent <span class="math inline">\(2\)</span> tails followed by a heads. We can picture this using the tree below, which depicts the possible outcomes when <span class="math inline">\(k = 3\)</span>:</p>
<div class="figure">
<img src="n12-coinflip.png" style="width:30.0%" />

</div>
<p>Here <span class="math inline">\(S = \{0,1\}\)</span>. This is a case of sampling with replacement; multiple coin flips could result in tails (we could pick the element <span class="math inline">\(0\)</span> from set <span class="math inline">\(S\)</span> in multiple trials). Order also matters - strings <span class="math inline">\(001\)</span> and <span class="math inline">\(010\)</span> are considered different outcomes. By the reasoning above (using the first rule of counting) we have a total of <span class="math inline">\(n^k = 2^k\)</span> distinct outcomes, since <span class="math inline">\(n = 2\)</span>.</p>
<h2 id="rolling-dice" class="unnumbered">Rolling Dice</h2>
<p>Let’s say we roll two dice, so <span class="math inline">\(k = 2\)</span> and <span class="math inline">\(S = \{1,2,3,4,5,6\}\)</span>. How many possible outcomes are there? In this setting, ordering matters; obtaining <span class="math inline">\(1\)</span> with the first die and <span class="math inline">\(2\)</span> with the second is different from obtaining <span class="math inline">\(2\)</span> with the first and <span class="math inline">\(1\)</span> with the second. We are sampling with replacement, since we can obtain the same result on both dice.</p>
<p>The setting is therefore the same as the coin flipping example above (order matters and we are sampling with replacement), so we can use the first rule of counting in the same manner. The number of distinct outcomes is therefore <span class="math inline">\(n^2 = 6^2 = 36\)</span>.</p>
<h2 id="sampling-with-replacement-but-where-order-does-not-matter" class="unnumbered">Sampling with Replacement, but where Order Does Not Matter</h2>
<p>Say you have unlimited quantities of apples, bananas and oranges. You want to select <span class="math inline">\(5\)</span> pieces of fruit to make a fruit salad. How many ways are there to do this? In this example, <span class="math inline">\(S = \{1,2,3\}\)</span>, where <span class="math inline">\(1\)</span> represents apples, <span class="math inline">\(2\)</span> represents bananas, and <span class="math inline">\(3\)</span> represents oranges. <span class="math inline">\(k = 5\)</span> since we wish to select <span class="math inline">\(5\)</span> pieces of fruit. Ordering does not matter; selecting an apple followed by a banana will lead to the same salad as a banana followed by an apple.</p>
<p>This scenario is much more tricky to analyze. It is natural to apply the second rule of counting because order does not matter. So we first pretend that order matters, and then the number of ordered objects is <span class="math inline">\(3^5\)</span> as discussed above. How many ordered options are there for every unordered option? The problem is that this number differs depending on which unordered object we are considering. Let’s say the unordered object is an outcome with <span class="math inline">\(5\)</span> bananas. There is only one such ordered outcome. But if we are considering <span class="math inline">\(4\)</span> bananas and <span class="math inline">\(1\)</span> apple, there are <span class="math inline">\(5\)</span> such ordered outcomes (represented as <span class="math inline">\(12222\)</span>, <span class="math inline">\(21222\)</span>, <span class="math inline">\(22122\)</span>, <span class="math inline">\(22212\)</span>, <span class="math inline">\(22221\)</span>).</p>
<p>Now that we see the second rule of counting will not help, can we look at this problem in a different way? Let us first generalize back to our original setting: we have a set <span class="math inline">\(S = \{1,2,\dotsc,n\}\)</span> and we would like to know how many ways there are to choose multisets (sets with repetition) of size <span class="math inline">\(k\)</span>. Remarkably, we can model this problem in terms of binary strings.</p>
<p>Assume we have 1 bin for each element from set <span class="math inline">\(S\)</span>, so <span class="math inline">\(n\)</span> bins. For example, if we selected <span class="math inline">\(2\)</span> apples and <span class="math inline">\(1\)</span> banana, bin <span class="math inline">\(1\)</span> would have <span class="math inline">\(2\)</span> elements and bin <span class="math inline">\(2\)</span> would have <span class="math inline">\(1\)</span> element. In order to count the number of multisets, we need to count how many different ways there are to fill these bins with <span class="math inline">\(k\)</span> elements. We don’t care about the order of the bins themselves, just how many of the <span class="math inline">\(k\)</span> elements each bin contains. Let’s represent each of the <span class="math inline">\(k\)</span> elements by a <span class="math inline">\(0\)</span> in the binary string, and separations between bins by a <span class="math inline">\(1\)</span>. Consider the following picture:</p>
<div class="figure">
<img src="n12-bin-4.png" style="width:30.0%" />

</div>
<p>This would be a sample placement where <span class="math inline">\(S = \{1,\dotsc,5\}\)</span> and <span class="math inline">\(k = 4\)</span>. Counting the number of multi sets is now equivalent to counting the number of placements of the <span class="math inline">\(k\)</span> <span class="math inline">\(0\)</span>’s. We have just reduced what seemed like a very complex problem to a question about a binary string, simply by looking at it from a different perspective!</p>
<p>How many ways can we choose these locations? The length of our binary string is <span class="math inline">\(k + n - 1\)</span>, and we are choosing which <span class="math inline">\(k\)</span> locations should contain <span class="math inline">\(0\)</span>’s. The remaining <span class="math inline">\(n-1\)</span> locations will contain <span class="math inline">\(1\)</span>’s. Once we pick a location for one zero, we cannot pick it again; repetition is not allowed. Picking location <span class="math inline">\(1\)</span> followed by location <span class="math inline">\(2\)</span> is the same as picking location <span class="math inline">\(2\)</span> followed by location <span class="math inline">\(1\)</span>, so ordering does not matter. It follows that all we wish to compute is the number of ways of picking <span class="math inline">\(k\)</span> elements from <span class="math inline">\(k + n - 1\)</span> elements, without replacement and where the order of placement does not matter. This is given by <span class="math inline">\(n + k - 1\choose k\)</span>, as discussed in the Counting Sets section above. This is therefore the number of ways in which we can choose multisets of size <span class="math inline">\(k\)</span> from set <span class="math inline">\(S\)</span>.</p>
<p>Returning to our example above, the number of ways of picking 5 pieces of fruit is exactly <span class="math inline">\({3+5-1 \choose 5} = {7 \choose 5}\)</span>.</p>
<p>Notice that we started with a problem which seemed very different from previous examples, but, by viewing it from a certain perspective, we were able to use previous techniques (those used in counting sets) to find a solution! This is key to many combinatorial arguments as we will explore further in the next section.</p>
<h1 id="combinatorial-proofs" class="unnumbered">Combinatorial Proofs</h1>
<p>Combinatorial arguments are interesting because they rely on intuitive counting arguments rather than algebraic manipulation. We can prove complex facts, such as <span class="math inline">\({n \choose k+1} = {n-1 \choose k} + {n-2 \choose k} + \cdots + {k \choose k}\)</span>. You can directly verify this identity by algebraic manipulation. But you can also do this by interpreting what each side means as a combinatorial process. The left hand side is just the number of ways of choosing a <span class="math inline">\(k+1\)</span> element subset from a set of <span class="math inline">\(n\)</span> items. Let us think about a different process that results in the choice of a <span class="math inline">\(k+1\)</span> element subset. We start by picking the lowest numbered element in the subset. It is either the first element of the set or the second or the third or ... If we choose the first element, we must now choose <span class="math inline">\(k\)</span> elements out of the remaining <span class="math inline">\(n-1\)</span> which we can do in <span class="math inline">\({n-1 \choose k}\)</span> ways. If instead the lowest numbered element we picked is the second element then we still have to choose <span class="math inline">\(k\)</span> elements from the remaining <span class="math inline">\(n-2\)</span> which can be done in <span class="math inline">\({n-2 \choose k}\)</span> ways. Moreover all these subsets are distinct from those where the lowest numbered element was the first one. So we should add the number of ways of choosing each to the grand total. Proceeding in this way, we split up the process into cases according to the first (i.e., lowest-numbered) object we select, to obtain: <span class="math display">\[
\textbf{First element selected is either} \begin{cases}
\text{element } 1, &amp; {n - 1 \choose k} \\
\text{element } 2, &amp; {n - 2 \choose k} \\
\text{element } 3, &amp; {n - 3 \choose k} \\
\hfill \vdots &amp; \\
\text{element } n - k, &amp; {k \choose k}
\end{cases}
\]</span> (Note that the lowest-numbered object we select cannot be higher than <span class="math inline">\(n-k\)</span> as we have to select <span class="math inline">\(k\)</span> distinct objects.)</p>
<p>The last combinatorial proof we will do is the following: <span class="math inline">\({n \choose 0} + {n \choose 1} + \cdots + {n \choose n} = 2^n\)</span>. To see this, imagine that we have a set <span class="math inline">\(S\)</span> with <span class="math inline">\(n\)</span> elements. On the left hand side, the <span class="math inline">\(i^{\text{th}}\)</span> term counts the number of ways of choosing a subset of <span class="math inline">\(S\)</span> of size exactly <span class="math inline">\(i\)</span>; so the sum on the left hand side counts the total number of subsets (of any size) of <span class="math inline">\(S\)</span>.</p>
<p>We claim that the right hand side (<span class="math inline">\(2^n\)</span>) does indeed also count the total number of subsets. To see this, just identify a subset with an <span class="math inline">\(n\)</span>-bit vector, where in each position <span class="math inline">\(j\)</span> we put a <span class="math inline">\(1\)</span> if the <span class="math inline">\(j\)</span>th element is in the subset, and a <span class="math inline">\(0\)</span> otherwise. So the number of subsets is equal to the number of <span class="math inline">\(n\)</span>-bit vectors, which is <span class="math inline">\(2^n\)</span> (there are 2 options for each bit). Let us look at an example, where <span class="math inline">\(S = \{1,2,3\}\)</span> (so <span class="math inline">\(n=3\)</span>). Enumerate all <span class="math inline">\(2^3 = 8\)</span> possible subsets of <span class="math inline">\(S\)</span>: <span class="math inline">\(\{\{\},\{1\},\{2\},\{3\},\{1,2\},\{1,3\},\{2,3\},\{1,2,3\}\}\)</span>. The term <span class="math inline">\({3 \choose 0}\)</span> counts the number of ways to choose a subset of <span class="math inline">\(S\)</span> with <span class="math inline">\(0\)</span> elements; there is only one such subset, namely the empty set. There are <span class="math inline">\({3\choose 1}=3\)</span> ways of choosing a subset with <span class="math inline">\(1\)</span> element, <span class="math inline">\({3\choose 2}=3\)</span> ways of choosing a subset with <span class="math inline">\(2\)</span> elements, and <span class="math inline">\({3\choose 3}=1\)</span> way of choosing a subset with <span class="math inline">\(3\)</span> elements (namely, the subset consisting of the whole of <span class="math inline">\(S\)</span>). Summing, we get <span class="math inline">\(1+3+3+1 = 8\)</span>, as expected.</p>
</article>
</body>

<!-- Mirrored from www.eecs70.org/static/notes/n12.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 17 May 2018 00:40:01 GMT -->
</html>
